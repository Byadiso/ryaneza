<!DOCTYPE html>
<html>
    <head>
        <meta />
        <link
            rel="stylesheet"
            type="text/css"
            href="../css/style-property.css"
        />
        <!-- <link rel="stylesheet" href="../css/style.css"> -->
        <title>PropertyPro LITE</title>
        <link rel="icon" type="image/ico" href="../image/bar-icon.png" />
        <script type="module" src="../js/script.js" defer></script>
        <script type="module" src="../js/sorting.js" defer></script>
        <script src="../js/search.js" defer></script>
        
        <!-- <script src="../js/categories.js" defer></script> -->

        <!-- for fonts -->
        <link
            rel="stylesheet"
            href="//use.fontawesome.com/releases/v5.0.7/css/all.css"
        />
    </head>
    <body>
        <!-- <a class="sell" href="http://localhost:3000/public/pages/property.html"
            ><img src="../image/header.png" height="80px" width="200px"
        /></a> -->

        <div class="topnav">
            <!-- <a class="active"href="../index.html"><strong>PROPERTY FOR RENT</strong></a> -->

            <a href="sell.html"
                ><strong
                    ><span class="admin_createPro"
                        >SELL A FRUIT OR VEGETABLE</span
                    ></strong
                ></a
            >
            
            <a href="./user.html"><strong>My Dashboard</strong></a>

            <div class="login-container">
                <form action="post">
                    <a class="cart-btn" href="./cart.html">
                        <span class="nav-icon">
                            <i class="fas fa-cart-plus"></i>
                        </span>
                        <div class="cart-items">0</div> 
                    </a>

                    <a class="log-out" href="#"><strong>Sign Out </strong></a>
                 
                </form>
            </div>
        </div>
        <div>
            <img
                id="banner"
                src="../image/banner.png"
                height="20%"
                width="100%"
            />
        </div>
   
<div class="main_container_fruits">

   
    <div class="filters">
        <div class="filterCheck"></div>
        <form class="searchBar" id="input_search">
            <input
                type="text"
                name="search"
                id="searchBar"
                class="input_search"
                placeholder="search for a propery"
            />
            <button class="btnSearch">search</button>
        </form>
    </div>

    <!-- Searched products -->
    <div class="search_container">
        <div>
            <h2 class="search_title"></h2>
        </div>
        <div id="searched_content"></div>
    </div>
    <!--
            I want to put my data here from my backend                
            -->
    <h2 id="header-text">ALL FRUITS AND VEGETABLE AVAILABLE ON OUR MARKET</h2>
    
    <div class="main_properties hide">

        <div id="myProperties"></div>
        <div id="forSingleElement"></div>

        <!-- at bottom for sell and arrival -->
        <div id="sell_and_arrival">
            <div id="property_by_sell">
                <h1 class="header_sell"></h1>
            </div>

            <div id="property_by_arrival">
                <h1 class="header_arrival"></h1>
            </div>
        </div>
    </div>
    <!--  implementation of loading spin  -->
    <div id="loader-wrapper">
        <div id="loader"></div>
    </div>


</div>


        <div id="footer">
            &copy; 2021 Designed by BYAMUNGU desire || Andela Developer
            Challenge
        </div>
    </body>

    <script defer>
        let user = JSON.parse(localStorage.getItem('user'));      
        if (user == null) {
            window.location.href = './login.html'
        }

         // cart logic
        if (typeof window !== 'undefined') {
        if (localStorage.getItem('cart')) {            
            let storedInCarrt = JSON.parse(localStorage.getItem('cart'))
            let cart = document.querySelectorAll(".cart-items")[0];
            cart.textContent = storedInCarrt.length
        }
    }

        // removeing the loading 
     
       

        document.addEventListener('DOMContentLoaded', (event) => {
        //the event occurred
         const main_container = document.querySelector(".main_properties");
         const loadingSpinner = document.querySelector('#loader');
         
         main_container.classList.remove('hide');
        loadingSpinner.classList.add('hide');
              

        })

   
       

    </script>
</html>
