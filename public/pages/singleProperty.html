<!DOCTYPE html>
<html>
<head>
 <meta>
         <link rel="stylesheet" type="text/css" href="../css/style-property.css">
         <link rel="stylesheet" type="text/css" href="../css/style.css">
         <link rel="stylesheet" type="text/css" href="../css/singleStyle.css">
         <title> PropertyPro LITE</title>
         <link rel="icon" type="image/ico" href="../image/bar-icon.png" />
         <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css">
         <script type="module" src="../js/singlePro.js" defer></script>

        

</head>
<body>


<a class="sell" href="property.html"><img src="../image/header.png" height="80px" width="200px"></a>

<div class="topnav">
  
   <a class="active"href="../property.html"><strong>PROPERTY FOR RENT</strong></a>
   <a href="user.html"><strong>My Dashboard</strong></a>
 
<div class="login-container">
        <form action="post">
            <a class="cart-btn" href="./cart.html">
                <span class="nav-icon">
                    <i class="fas fa-cart-plus"></i>
                </span>
                <div class="cart-items">0</div> 
            </a>

            <a  class="log-out" href="login.html"><strong>Sign Out </strong></a>           
        </form>
</div>

</div>
<div id="banner">
      <img src="../image/banner.png" height="20%" width="100%">
</div>

</div> 

<div id="singleProperty">

</div>

<div class="main_admin">

     
            <!-- 
            .....................................implementing tab content on single property ................................... -->
           

    
    <div class="tab">
        <button class="tablinks" onclick="open_single_tabs(event, 'description_details')">Description</button>
        <button class="tablinks" onclick="open_single_tabs(event, 'shipping_details')">Shipping & Location</button>
        <button class="tablinks" onclick="open_single_tabs(event, 'reviews_details')">Reviews</button>
        <button class="tablinks" onclick="open_single_tabs(event, 'comment_details')">Comments</button>      
        
    
    </div>


    <div class="content_tab_main">                       

        <!-- Tab content -->
                 <div id="description_details" class="tabcontent">

                    <h3>Welcome Description <span class="description_details_header"></span>  </h3>
                    <p class="description_details"></p>
                </div>

                <div id="reviews_details" class="tabcontent">
                    <h3>Reviews (<span class="reviews_details_header">0</span>)</h3>
                    <p class="reviews_details"></p>        
                </div>

                <div id="comment_details" class="tabcontent">
                        <h3 >Comments (<span class="comment_details_header">0</span>) </h3>
                        
                        <form class="add_comments control-group create_property" name="comment_form"> 
                            <p class="display_error_comment"></p>
                            <p class="success_message"></p>                   
                            <input type="text" name="comments" id="comments_text" placeholder="leave a comment"></input>
                            <input type="submit" value="leave a comment" class="submitBtn_comments">                   
                        
                        </form>
                        
                    
                        <div id="comment_details_container"></div>

                        
                </div>
                <div id="shipping_details" class="tabcontent">
                    <h3 >Shipping & Location<span class="all_user_header"></span> users on the website </h3>
                    <p class="shipping_details"></p>
                 </div>        

    </div>



 </div>

               






     

    
    
    <!-- End of cart-->

<div id="footer">
    &copy; 2019  Designed by BYAMUNGU desire || Andela Developer Challenge
</div> 

</body>

    <!-- <script src="../js/singlePro.js" defer></script> -->
    <script src="../js/comments.js" defer></script>
    <!-- <script src="../js/cart.js" defer></script> -->

<script>
                

function open_single_tabs(evt, single_tabs) {
    // Declare all variables
    var i, tabcontent, tablinks;
    
    // Get all elements with class="tabcontent" and hide them
    tabcontent = document.getElementsByClassName("tabcontent");
    // tabcontent.textContent= 'this has been fecthed'
    for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";     
    }
    
    // Get all elements with class="tablinks" and remove the class "active"
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    
    // Show the current tab, and add an "active" class to the button that opened the tab
    document.getElementById(single_tabs).style.display = "block";
    evt.currentTarget.className += " active"; 

    }


    // // to show properties in cart
    let user = JSON.parse(localStorage.getItem('user'));      
        if (user == null) {
            window.location.href = './login.html'
        }

         // cart logic
        if (typeof window !== 'undefined') {
        if (localStorage.getItem('cart')) {            
            let storedInCarrt = JSON.parse(localStorage.getItem('cart'))
            let cart = document.querySelectorAll(".cart-items")[0];
            cart.textContent = storedInCarrt.length
        }

    }



</script>

</html>
